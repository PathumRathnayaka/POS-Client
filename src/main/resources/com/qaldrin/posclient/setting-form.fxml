<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="717.0" prefWidth="1050.0" style="-fx-background-color: #2c3e50;"
            xmlns="http://javafx.com/javafx/20.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.qaldrin.posclient.controller.SettingFormController">
    <children>
        <!-- Main Container -->
        <VBox alignment="CENTER" prefHeight="703.0" prefWidth="1010.0" spacing="20.0"
              AnchorPane.bottomAnchor="35.0" AnchorPane.leftAnchor="20.0"
              AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="20.0">

            <!-- Title -->
            <Label style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #ecf0f1;"
                   text="Settings" />

            <!-- Main Settings Card (Dark Card Style) -->
            <VBox spacing="20" style="-fx-background-color: #1f2a35; -fx-background-radius: 12;
                                  -fx-border-radius: 12; -fx-border-color: #34495e; -fx-border-width: 1;
                                  -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 10, 0, 0, 4);">
                <padding>
                    <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
                </padding>

                <!-- Server Configuration Section -->
                <Label text="Server Configuration"
                       style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #ecf0f1;" />
                <Separator prefWidth="930.0" style="-fx-background-color: #34495e;" />

                <!-- Current URL Display -->
                <Label fx:id="currentUrlLabel"
                       text="Current Server URL: http://192.168.1.100:8080"
                       style="-fx-font-size: 14px; -fx-text-fill: #ecf0f1; -fx-font-weight: bold;" />

                <!-- IP Address Field -->
                <VBox spacing="8.0">
                    <children>
                        <Label text="Server IP Address"
                               style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #ecf0f1;" />
                        <TextField fx:id="ipAddressField" prefHeight="40.0" prefWidth="400.0"
                                   promptText="Enter IP address (e.g., 192.168.1.100 or localhost)"
                                   style="-fx-background-color: #2c3e50; -fx-text-fill: #ecf0f1;
                                    -fx-prompt-text-fill: #7f8c8d; -fx-background-radius: 8;
                                    -fx-border-radius: 8; -fx-border-color: #34495e; -fx-border-width: 1;" />
                        <Label text="Enter the IP address of the server machine on your network"
                               style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" />
                    </children>
                </VBox>

                <!-- Port Number Field -->
                <VBox spacing="8.0">
                    <children>
                        <Label text="Server Port Number"
                               style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #ecf0f1;" />
                        <TextField fx:id="portField" prefHeight="40.0" prefWidth="200.0"
                                   promptText="Enter port (e.g., 8080)"
                                   style="-fx-background-color: #2c3e50; -fx-text-fill: #ecf0f1;
                                    -fx-prompt-text-fill: #7f8c8d; -fx-background-radius: 8;
                                    -fx-border-radius: 8; -fx-border-color: #34495e; -fx-border-width: 1;" />
                        <Label text="Typically 8080 for Spring Boot applications (valid range: 1-65535)"
                               style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;" />
                    </children>
                </VBox>

                <!-- Status Label -->
                <Label fx:id="statusLabel" text=" "
                       style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #ecf0f1;"
                       wrapText="true" />

                <!-- Action Buttons -->
                <HBox spacing="15.0" alignment="CENTER_LEFT">
                    <children>
                        <Button fx:id="saveButton" onAction="#onSaveSettings"
                                prefHeight="45.0" prefWidth="180.0"
                                style="-fx-background-color: #25D366; -fx-text-fill: white;
                                 -fx-font-weight: bold; -fx-background-radius: 8;
                                 -fx-cursor: hand; -fx-font-size: 14px;"
                                text="Save Settings" />
                        <Button fx:id="testConnectionButton" onAction="#onTestConnection"
                                prefHeight="45.0" prefWidth="180.0"
                                style="-fx-background-color: #3498db; -fx-text-fill: white;
                                 -fx-font-weight: bold; -fx-background-radius: 8;
                                 -fx-cursor: hand; -fx-font-size: 14px;"
                                text="Test Connection" />
                        <Button onAction="#onResetToDefaults"
                                prefHeight="45.0" prefWidth="180.0"
                                style="-fx-background-color: #95a5a6; -fx-text-fill: white;
                                 -fx-font-weight: bold; -fx-background-radius: 8;
                                 -fx-cursor: hand; -fx-font-size: 14px;"
                                text="Reset to Defaults" />
                    </children>
                </HBox>

                <Separator prefWidth="930.0" style="-fx-background-color: #34495e;" />

                <!-- Instructions Card -->
                <VBox spacing="10" style="-fx-background-color: #27394b; -fx-padding: 15; -fx-background-radius: 8;">
                    <children>
                        <Label text="Instructions:"
                               style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #ecf0f1;" />
                        <Label text="1. Enter the IP address of the computer running the POS server"
                               style="-fx-font-size: 13px; -fx-text-fill: #bdc3c7;" wrapText="true" />
                        <Label text="2. Enter the port number (default is 8080)"
                               style="-fx-font-size: 13px; -fx-text-fill: #bdc3c7;" wrapText="true" />
                        <Label text="3. Click 'Test Connection' to verify the server is reachable"
                               style="-fx-font-size: 13px; -fx-text-fill: #bdc3c7;" wrapText="true" />
                        <Label text="4. Click 'Save Settings' to apply and save the configuration"
                               style="-fx-font-size: 13px; -fx-text-fill: #bdc3c7;" wrapText="true" />
                        <Label text="5. Settings are automatically saved and will be used for all future connections"
                               style="-fx-font-size: 13px; -fx-text-fill: #bdc3c7;" wrapText="true" />
                    </children>
                </VBox>

                <!-- Network Tips -->
                <VBox spacing="8.0">
                    <children>
                        <Label text="Network Tips:"
                               style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #ecf0f1;" />
                        <Label text="• For local testing, use 'localhost' or '127.0.0.1'"
                               style="-fx-font-size: 12px; -fx-text-fill: #95a5a6;" wrapText="true" />
                        <Label text="• For network access, find the server's IP using 'ipconfig' (Windows) or 'ifconfig' (Mac/Linux)"
                               style="-fx-font-size: 12px; -fx-text-fill: #95a5a6;" wrapText="true" />
                        <Label text="• Ensure both computers are on the same network and firewall allows connections"
                               style="-fx-font-size: 12px; -fx-text-fill: #95a5a6;" wrapText="true" />
                    </children>
                </VBox>
            </VBox>
        </VBox>
    </children>
</AnchorPane>